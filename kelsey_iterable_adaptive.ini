[audio]
sampling_rate = 44100
hop_length = 128
segment_length = 1024

[dataset]
# UPDATE THIS PATH to your new dataset
datapath = /mimer/NOBACKUP/groups/x_kelco_musai_2024/erokia
test_dataset = test_audio
generate_test = True
check_audio = True
check_dataset = True
workspace = 
run_number = 0
# total_frames field is deprecated in adaptive mode

[VAE]
latent_dim = 256
n_units = 2048
kl_beta = 0.0001
device = cuda:0

[training]
epochs = 100
# ADAPTIVE FIELDS - These will be calculated automatically:
# Set total_num_frames to 'auto' to trigger adaptive calculation
total_num_frames = auto
learning_rate = 0.0001
batch_size = 4096
# checkpoint_interval will be calculated automatically
checkpoint_interval = auto
# Number of checkpoints desired during training (used to calculate checkpoint_interval)
desired_checkpoints = 100
loss_reduction = mean

[adaptive_settings]
# Maximum files to scan for large datasets (speeds up calculation)
# Set to 0 or remove to scan all files
max_scan_files = 200
# These fields will be populated automatically by the adaptive script:
# dataset_files = (calculated)
# dataset_frames = (calculated)  
# is_estimated = (calculated)
# scan_time_seconds = (calculated)
# calculated_at = (calculated)

[notes]
additional_notes = This config uses ADAPTIVE mode - dataset parameters are calculated automatically!
adaptive_mode = True
Instructions:
1. Update 'datapath' to point to your dataset folder
2. Adjust 'epochs' and 'batch_size' as needed
3. Set 'desired_checkpoints' to control checkpoint frequency
4. Run: python train_iterable_adaptive.py --config kelsey_iterable_adaptive.ini
5. The script will automatically calculate total_num_frames and checkpoint_interval
6. All calculations will be saved to the final config in your workspace

Benefits:
- No manual frame counting required
- Automatically adapts to any dataset size
- GPU-accelerated dataset scanning
- Smart estimation for large datasets (>200 files)
- Exact counting for smaller datasets

[extra]
normalize_examples = False
example_length = 10
plot_model = True
# Update description for your experiment
description = adaptive_rawaudiovae_experiment
start = 
end = 
time_elapsed = 